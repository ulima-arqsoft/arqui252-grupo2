# 3.5. Refinamiento de Escenarios

[Volver al índice](../3.md)

Este documento presenta el refinamiento detallado de los 20 escenarios consolidados, ordenados según la priorización obtenida en la votación de stakeholders. Cada escenario se especifica utilizando la plantilla de 6 partes de atributos de calidad.

---

## Tabla de Escenarios Refinados (Ordenados por Prioridad)

| **ID Escenario** | **Atributo de Calidad** | **Fuente Estímulo** | **Estímulo** | **Artefacto** | **Entorno** | **Respuesta** | **Medida de Respuesta** |
|------------------|------------------------|---------------------|--------------|---------------|-------------|---------------|-------------------------|
| ESC-05 | Seguridad | Usuario no autorizado | Intento de acceso a panel administrativo sin permisos | Sistema de autenticación con RBAC | Producción | Bloqueo inmediato y registro en log de auditoría | 100% de intentos bloqueados + alerta <1min |
| ESC-02 | Disponibilidad | Fallo de hardware | Caída del servidor principal durante horario laboral | Infraestructura con healthchecks | Producción | Reinicio automático del servicio afectado | Recuperación en <10 minutos (90% casos <30s) |
| ESC-03 | Usabilidad | Administrador nuevo | Primera vez configurando categorías en el sistema | Interfaz web con tutorial interactivo | Producción | Tutorial paso a paso con tooltips y validación | 90% completan tarea sin asistencia en <3 minutos |
| ESC-04 | Rendimiento | Bots automatizados | Cientos de solicitudes de reportes simultáneas | API con rate-limiting y cola FIFO | Producción | Limitación de peticiones y encolamiento automático | Rate-limit activado <1s, 100% uptime |
| ESC-06 | Mantenibilidad | Equipo desarrollo | Cambio en lógica de validación de usuarios | Backend monolítico con componentes modulares | Desarrollo | Despliegue del cambio sin afectar otros módulos | Implementación <4 horas + 0 downtime |
| ESC-08 | Integridad | Atacante externo | Modificación de token JWT con firma inválida | Sistema de gestión de sesiones JWT | Producción | Rechazo de solicitud y cierre de sesión global | Detección <3s, cierre sesión <6s |
| ESC-01 | Rendimiento | 300 usuarios concurrentes | Generación masiva de listados con filtros avanzados | Servidor con caché Redis y balanceador | Producción | Procesamiento sin degradación mediante escalado | 95% requests <3s con 300 usuarios |
| ESC-07 | Confidencialidad | Usuario sin permisos | Intento de acceso directo a endpoint /users/:id/profile | API REST con middleware de autorización | Producción | Validación de permisos y rechazo con HTTP 403 | 100% endpoints protegidos, validación <50ms |
| ESC-09 | Disponibilidad | 100 logins por minuto | Pico de autenticaciones con 2FA durante inicio de semestre | Sistema de autenticación con escalado | Producción | Escalado horizontal automático bajo demanda | Tiempo de login <2s, error rate <1% |
| ESC-11 | Rendimiento | Nueva calificación | Recálculo automático de promedio tras nueva valoración | Worker asíncrono con algoritmo incremental | Producción | Actualización del promedio sin bloquear operaciones | Recálculo <100ms, no bloqueante |
| ESC-14 | Usabilidad | Estudiante | Búsqueda de reseñas con filtros (fecha, calificación, curso) | Módulo de búsqueda con índices | Producción | Resultados ordenados con filtros aplicados | Resultados <2s, paginación de 20 items |
| ESC-10 | Disponibilidad | Proveedor externo | Caída temporal del servicio de correo (SendGrid) | Cola de reintentos con backoff exponencial | Producción | Reintentos automáticos y ruta alterna de envío | Éxito ≥99% en 15 minutos |
| ESC-17 | Rendimiento | Administrador | Carga inicial del listado completo de usuarios al login | Módulo admin con caché Redis | Producción | Consulta optimizada con índices y caché | Carga completa <5s, cache hit rate >80% |
| ESC-16 | Mantenibilidad | Desarrollador | Agregar nuevo filtro "por institución" al módulo reseñas | Sistema de plugins con API de extensión | Desarrollo | Integración mediante plugin sin modificar core | Implementación <4 horas + tests passed |
| ESC-12 | Rendimiento | 100 usuarios concurrentes | Actualización simultánea de datos de perfil personal | Módulo de perfiles con cola asíncrona | Producción | Procesamiento asíncrono con cola FIFO | Guardado <1s, tiempo medio <2s bajo carga |
| ESC-13 | Seguridad | Usuario malicioso | Intento de subir archivo .exe como foto de perfil | Validador de tipo MIME en backend | Producción | Rechazo con validación de extensión y tipo MIME | 100% archivos maliciosos bloqueados |
| ESC-15 | Usabilidad | Usuario | Click en ordenar por "Fecha más reciente" en listado | Componente de ordenamiento con dropdown | Producción | Reordenamiento instantáneo de reseñas mostradas | Cambio visible <500ms (feedback inmediato) |
| ESC-18 | Disponibilidad | Error en despliegue | Caída del servidor backend monolítico | Infraestructura con monitor automático (PM2/Supervisor) | Producción | Detección de falla y restart automático del proceso | Recuperación <30s |
| ESC-19 | Usabilidad | Usuario autenticado | Click en "Editar perfil" desde vista de perfil personal | Formulario de edición con datos precargados | Producción | Formulario con datos actuales y preview de cambios | Proceso <2 pasos, guardado <2s |
| ESC-20 | Confidencialidad | Atacante | Intento de login con credenciales filtradas (credential stuffing) | WAF con detector de credenciales comprometidas | Producción | Rechazo sin revelar existencia del email + log | Respuesta genérica <300ms |

---

