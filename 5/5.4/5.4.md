> [5. T√°cticas](../5.md) ‚Ä∫ [5.4. M√≥dulo 4 / Integrante 4](5.4.md)

# 5.4. M√≥dulo 4 / Integrante 4

## M√≥dulo de Rese√±as y Calificaciones

---

## T√°ctica 1: Rendimiento

### Escenario
| Cod Escenario | Atributo de Calidad | Est√≠mulo | Fuente del Est√≠mulo | Artefacto | Entorno | Respuesta | Medida de Respuesta |
|---------------|-------------------|----------|-------------------|----------|---------|-----------|-------------------|
| ESC-01 | Rendimiento | Generaci√≥n masiva de listados con filtros avanzados | 300 usuarios concurrentes | Servidor con cach√© Redis y balanceador | Producci√≥n | Procesamiento sin degradaci√≥n mediante escalado | 95% requests <3s con 300 usuarios |

### T√°ctica Elegida
Se selecciona la t√°ctica de **Cach√© con Redis** como parte de las t√°cticas de gesti√≥n de recursos.

### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo:**
Cach√© Redis para Consultas Frecuentes

**Contexto:**
Durante per√≠odos de evaluaci√≥n, 300 usuarios consultan simult√°neamente rese√±as con filtros por profesor, fecha y calificaci√≥n. Cada consulta a la base de datos causa lentitud y sobrecarga del servidor.

**Alternativas:**
1. Cach√© Redis con TTL de 5 minutos
2. Crear √≠ndices en columnas de base de datos
3. Particionamiento de tabla por fechas

**Decisi√≥n:**
Se elige la t√°ctica de **Cach√© con Redis**.

**Sustento:**
Redis almacena resultados de consultas frecuentes en memoria. Primera consulta va a BD y guarda en Redis con clave `rese√±as:profesor_{id}`. Consultas siguientes leen desde Redis (tiempo <100ms vs 2-3s de BD). TTL de 5 minutos asegura datos actualizados. Reduce carga en BD un 80%.

---

## T√°ctica 2: Usabilidad

### Escenario
| Cod Escenario | Atributo de Calidad | Est√≠mulo | Fuente del Est√≠mulo | Artefacto | Entorno | Respuesta | Medida de Respuesta |
|---------------|-------------------|----------|-------------------|----------|---------|-----------|-------------------|
| ESC-14 | Usabilidad | B√∫squeda de rese√±as con filtros (fecha, calificaci√≥n, curso) | Estudiante | M√≥dulo de b√∫squeda con √≠ndices | Producci√≥n | Resultados ordenados con filtros aplicados | Resultados <2s, paginaci√≥n de 20 items |

### T√°ctica Elegida
Se selecciona la t√°ctica de **Paginaci√≥n Simple** como parte de las t√°cticas de presentaci√≥n de informaci√≥n.

### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo:**
Paginaci√≥n con LIMIT para Resultados de B√∫squeda

**Contexto:**
Los estudiantes buscan rese√±as con filtros. Sin paginaci√≥n, cargar 500+ rese√±as toma >10s y consume mucho ancho de banda.

**Alternativas:**
1. Paginaci√≥n servidor con SQL LIMIT 20
2. Cargar todo y paginar en el navegador
3. Scroll infinito

**Decisi√≥n:**
Se elige la t√°ctica de **Paginaci√≥n Simple**.

**Sustento:**
SQL b√°sico: `SELECT * FROM rese√±as WHERE profesor_id=? LIMIT 20 OFFSET ?`. Solo env√≠a 20 registros por p√°gina, respondiendo en <2s. F√°cil de implementar en cualquier framework (Django, Spring, Express).

---

## T√°ctica 3: Mantenibilidad

### Escenario
| Cod Escenario | Atributo de Calidad | Est√≠mulo | Fuente del Est√≠mulo | Artefacto | Entorno | Respuesta | Medida de Respuesta |
|---------------|-------------------|----------|-------------------|----------|---------|-----------|-------------------|
| ESC-16 | Mantenibilidad | Agregar nuevo filtro "Idioma" a b√∫squeda de rese√±as | Desarrollador | C√≥digo de filtros con funci√≥n centralizada | Desarrollo | Nuevo filtro a√±adido sin modificar l√≥gica existente | <2h + 0 regresiones |

### T√°ctica Elegida
Se selecciona la t√°ctica de **Funci√≥n Centralizada** como parte de las t√°cticas de localizaci√≥n de modificaciones.

### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo:**
Funci√≥n Parametrizada para Filtros de B√∫squeda

**Contexto:**
Agregar filtros nuevos (idioma, pa√≠s, nivel) requiere modificar consultas en varios archivos, causando duplicaci√≥n y errores.

**Alternativas:**
1. Funci√≥n √∫nica con par√°metros opcionales
2. Copiar consultas para cada combinaci√≥n
3. Clases y herencia por tipo de filtro

**Decisi√≥n:**
Se elige la t√°ctica de **Funci√≥n Parametrizada**.

**Sustento:**
Una funci√≥n `buscarRese√±as(profesor, fecha=null, calificacion=null, idioma=null)` centraliza la l√≥gica. Agregar filtro "idioma" solo requiere a√±adir `AND idioma=?` en un solo lugar. Cambio localizado en <2h sin afectar otros m√≥dulos.

---

## T√°ctica 4: Disponibilidad

### Escenario
| Cod Escenario | Atributo de Calidad | Est√≠mulo | Fuente del Est√≠mulo | Artefacto | Entorno | Respuesta | Medida de Respuesta |
|---------------|-------------------|----------|-------------------|----------|---------|-----------|-------------------|
| ESC-18 | Disponibilidad | Ca√≠da del servicio de rese√±as por error | Error en despliegue | Proceso con monitor autom√°tico | Producci√≥n | Detecci√≥n de falla y reinicio autom√°tico | Recuperaci√≥n <30s |

### T√°ctica Elegida
Se selecciona la t√°ctica de **Reinicio Autom√°tico** como parte de las t√°cticas de recuperaci√≥n ante fallos.

### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo:**
Reinicio Autom√°tico con Supervisor/PM2

**Contexto:**
Errores inesperados pueden detener el servicio. Sin reinicio autom√°tico, requiere intervenci√≥n manual y downtime prolongado.

**Alternativas:**
1. Supervisor o PM2 con auto-restart
2. Monitoreo manual y reinicio por SSH
3. Script cron que verifica cada minuto

**Decisi√≥n:**
Se elige la t√°ctica de **Reinicio Autom√°tico con Supervisor/PM2**.

**Sustento:**
Supervisor (Linux) o PM2 (Node.js) reinician el proceso autom√°ticamente al detectar ca√≠da. Configuraci√≥n simple: para PM2 solo `pm2 start app.js`, para Supervisor 3 l√≠neas en `/etc/supervisor/conf.d/app.conf`. El servicio se recupera en <30s sin intervenci√≥n humana.

---

## Resumen de T√°cticas por Atributo de Calidad

| **Atributo de Calidad** | **Escenario** | **T√°ctica Aplicada** |
|------------------------|----------------|------------------------|
| Rendimiento | ESC-01 | Cach√© Redis para Consultas Frecuentes |
| Usabilidad | ESC-14 | Paginaci√≥n Simple con LIMIT |
| Mantenibilidad | ESC-16 | Funci√≥n Parametrizada para Filtros |
| Disponibilidad | ESC-18 | Reinicio Autom√°tico con Supervisor/PM2 |

---

[‚¨ÖÔ∏è Anterior](../5.3/5.3.md) | [üè† Home](../../README.md) | [Siguiente ‚û°Ô∏è](../5.5/5.5.md)