> [5. T√°cticas](../5.md) ‚Ä∫ [5.3. M√≥dulo 3 / Integrante 3](5.3.md)


# 5.3. M√≥dulo 3 

## M√≥dulo de Autenticaci√≥n y Seguridad

---

## T√°ctica 1: Rendimiento

### Escenario
| Cod Escenario  | Atributo de Calidad | Est√≠mulo                                             | Fuente del Est√≠mulo       | Artefacto                          | Entorno     | Respuesta                                                                 | Medida de Respuesta                       |
|----------------|---------------------|------------------------------------------------------|---------------------------|------------------------------------|-------------|---------------------------------------------------------------------------|-------------------------------------------|
| ESC-AUTH-01    | Rendimiento         | Pico de 500‚Äì1000 intentos de inicio de sesi√≥n/min    | Campa√±a y hora pico       | Servicio de Auth + Redis + Postgres| Producci√≥n  | Manejar login/2FA con cach√© ef√≠mera y rate-limit sin degradaci√≥n notable | P95 < 2 s, error rate < 1%, DB CPU < 60% |

### T√°ctica Elegida
**Cach√©  en Redis para estados de autenticaci√≥n** (lockout, tokens de verificaci√≥n, snapshots de permisos) + **rate limiting**.



**T√≠tulo:**  
Redis para estados ef√≠meros de autenticaci√≥n y control de carga

**Contexto:**  
Los picos de autenticaci√≥n concentran validaci√≥n de credenciales, verificaci√≥n de 2FA y chequeo de permisos. Consultar exclusivamente la base relacional eleva latencia y contenci√≥n.

**Alternativas:**
1. Redis para lockout, verificaci√≥n y permisos con TTL.  
2. Solo base relacional (sin cach√©).  
3. Escalado vertical de BD sin optimizar lectura/contenci√≥n.

**Decisi√≥n:**  
Redis + rate-limit por IP/usuario.

**Sustento:**  
Reduce lecturas repetidas y contenci√≥n; lecturas de <100 ms para contadores y tokens; la BD se reserva para identidad/credenciales. Permite absorber picos manteniendo P95 < 2 s y tasa de errores < 1%.

---

## T√°ctica 2: Usabilidad

### Escenario
| Cod Escenario  | Atributo de Calidad | Est√≠mulo                                                 | Fuente del Est√≠mulo | Artefacto                       | Entorno     | Respuesta                                                                                      | Medida de Respuesta                             |
|----------------|---------------------|----------------------------------------------------------|---------------------|---------------------------------|-------------|------------------------------------------------------------------------------------------------|-------------------------------------------------|
| ESC-AUTH-14    | Usabilidad          | Usuario completa login con 2FA y desea menor fricci√≥n    | Usuario final       | Flujo de login + 2FA (TOTP)     | Producci√≥n  | Ofrecer ‚ÄúRecordar este dispositivo 30 d√≠as‚Äù + c√≥digos de respaldo y mensajes de error claros  | √âxito 2FA > 98%, flujo < 15 s, 0 redigitaciones |

### T√°ctica Elegida
**2FA con ‚ÄúRecordar dispositivo‚Äù** (trusted device cookie firmada + registro de dispositivo) y **c√≥digos de respaldo**.



**T√≠tulo:**  
2FA con dispositivo confiable y fallback de recuperaci√≥n

**Contexto:**  
Exigir 2FA en cada inicio de sesi√≥n eleva la seguridad pero puede afectar la conversi√≥n de acceso y la satisfacci√≥n.

**Alternativas:**
1. Exigir 2FA siempre (sin recordar dispositivo).  
2. Recordar dispositivo por 30 d√≠as con verificaci√≥n de riesgo.  
3. Desactivar 2FA en dispositivos m√≥viles.

**Decisi√≥n:**  
Recordar dispositivo por 30 d√≠as, con revocaci√≥n desde el perfil y detecci√≥n de actividad sospechosa.

**Sustento:**  
Mantiene seguridad (2FA al menos una vez por dispositivo/periodo), reduce fricci√≥n y evita abandonos. C√≥digos de respaldo cubren p√©rdida del autenticador; mensajes y validaciones inline minimizan errores.

---

## T√°ctica 3: Mantenibilidad

### Escenario
| Cod Escenario  | Atributo de Calidad | Est√≠mulo                                         | Fuente del Est√≠mulo   | Artefacto                     | Entorno        | Respuesta                                                              | Medida de Respuesta              |
|----------------|---------------------|--------------------------------------------------|-----------------------|-------------------------------|----------------|------------------------------------------------------------------------|----------------------------------|
| ESC-AUTH-16    | Mantenibilidad      | Actualizar librer√≠a JWT/Argon2id o par√°metros    | Equipo de desarrollo  | Capa Auth (wrappers)          | Desarrollo/Prod | Encapsular dependencias en interfaces estables y configuraci√≥n central | Cambios < 4 h, 0 regresiones     |

### T√°ctica Elegida
**Encapsulamiento (wrappers) para JWT y hash** + **validador de contrase√±as centralizado**.


**T√≠tulo:**  
Wrapper de librer√≠as cr√≠ticas y pol√≠tica de contrase√±as centralizada

**Contexto:**  
Actualizaciones por seguridad en JWT/Argon2id no deben propagar cambios a m√∫ltiples archivos. La pol√≠tica de contrase√±as evoluciona (complejidad, longitud, no-reutilizaci√≥n).

**Alternativas:**
1. Uso directo de librer√≠as en todo el c√≥digo.  
2. Wrapper/Provider con interfaz √∫nica y tests.  
3. Microservicio externo para auth (outsourcing completo).

**Decisi√≥n:**  
Wrapper/Provider interno + validaciones centralizadas.

**Sustento:**  
A√≠sla cambios a 1‚Äì2 archivos, facilita *mocks* y pruebas, permite rotar par√°metros de Argon2id y ajustar reglas de password sin tocar controladores. Disminuye tiempo de actualizaci√≥n y riesgo de regresi√≥n.

---

## T√°ctica 4: Disponibilidad

### Escenario
| Cod Escenario  | Atributo de Calidad | Est√≠mulo                                  | Fuente del Est√≠mulo     | Artefacto                  | Entorno     | Respuesta                                                                  | Medida de Respuesta                   |
|----------------|---------------------|-------------------------------------------|-------------------------|----------------------------|-------------|----------------------------------------------------------------------------|---------------------------------------|
| ESC-AUTH-18    | Disponibilidad      | Falla de la instancia principal de Auth   | Plataforma/Infraestructura| Servicio de Auth + Gateway | Producci√≥n  | Conmutaci√≥n autom√°tica a instancia redundante y health-checks continuos     | Uptime ‚â• 99.95%, failover < 1 s       |

### T√°ctica Elegida
**Redundancia Activa (Hot Spare)** + **health-checks** y **autoscaling**.



**T√≠tulo:**  
Alta disponibilidad del servicio de autenticaci√≥n con Hot Spare

**Contexto:**  
La autenticaci√≥n sostiene el acceso a toda la plataforma. Cualquier ca√≠da afecta a todos los m√≥dulos.

**Alternativas:**
1. Heartbeat + reintentos con servidor secundario.  
2. Redundancia Activa con m√∫ltiples instancias y balanceador.  
3. Reinicio manual ante fallos.

**Decisi√≥n:**  
Redundancia Activa con balanceador y sondas de salud.

**Sustento:**  
Minimiza downtime percibido, soporta picos; combinado con Redis para sesi√≥n/lockout, mantiene continuidad incluso ante fallas de nodo.

---

## Resumen de T√°cticas por Atributo de Calidad

| Atributo de Calidad | Escenario     | T√°ctica Aplicada                                                                 |
|---------------------|---------------|----------------------------------------------------------------------------------|
| Rendimiento         | ESC-AUTH-01   | Redis  + rate-limit                                         |
| Usabilidad          | ESC-AUTH-14   | 2FA con ‚ÄúRecordar dispositivo‚Äù + c√≥digos de respaldo                              |
| Mantenibilidad      | ESC-AUTH-16   | Wrappers para JWT/Argon2id + validador de contrase√±as centralizado               |
| Disponibilidad      | ESC-AUTH-18   | Redundancia Activa (Hot Spare) + health-checks + autoscaling                      |


[‚¨ÖÔ∏è Anterior](../5.2/5.2.md) | [üè† Home](../../README.md) | [Siguiente ‚û°Ô∏è](../5.4/5.4.md)