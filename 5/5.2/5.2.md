> [5. T√°cticas](../5.md) ‚Ä∫ [5.2. M√≥dulo 2 / Integrante 2](5.2.md)

# 5.2. M√≥dulo 2 / Integrante 2

## M√≥dulo de Administraci√≥n General

## T√°ctica 1: Disponibilidad

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo**                                                                                                   | **Fuente del Est√≠mulo** | **Artefacto**             | **Entorno**                  | **Respuesta**                                                                                               | **Medida de Respuesta**                                |
| ----------------- | ----------------------- | -------------------------------------------------------------------------------------------------------------- | ----------------------- | ------------------------- | ---------------------------- | ----------------------------------------------------------------------------------------------------------- | ------------------------------------------------------ |
| ESC-02            | Disponibilidad          | Fallo del servidor principal (administraci√≥n, rese√±as o perfiles) durante horario laboral de operaci√≥n cr√≠tica | Servidor principal      | Servicio de base de datos | Operaci√≥n en entorno cr√≠tico | El sistema debe reiniciar autom√°ticamente el servicio o notificar al administrador para recuperaci√≥n manual | El tiempo de indisponibilidad no supera los¬†10 minutos |


### T√°ctica Elegida

En este caso, para alcanzar los niveles de disponibilidad requeridos seg√∫n el escenario (tiempo de recuperaci√≥n menor a 10 minutos), se ha decidido aplicar la t√°ctica de redundancia pasiva. A continuaci√≥n, se documentan los detalles de la decisi√≥n.
### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo:**  
Elecci√≥n entre redundancia pasiva vs redundancia activa vs repuesto¬†para el m√≥dulo de Administraci√≥n General.

**Contexto:**  
El sistema cuenta con servicios cr√≠ticos, como los m√≥dulos de administraci√≥n, rese√±as y perfiles, que deben mantener alta disponibilidad durante el horario laboral. Ante un posible fallo del servidor principal de base de datos, se requiere garantizar la continuidad operativa con un tiempo de recuperaci√≥n no mayor a 10 minutos, evitando p√©rdidas significativas de datos y reduciendo la interrupci√≥n del servicio a los usuarios.

**Alternativas:**

1. **Hot Spare (redundancia activa):**  
    - Mantener un servidor secundario completamente sincronizado y disponible para failover autom√°tico. Proporciona conmutaci√≥n inmediata, pero conlleva mayores costos de infraestructura y complejidad de configuraci√≥n.
    
2. **Warm Spare (redundancia pasiva):**  
    - Mantener un servidor secundario configurado en modo r√©plica as√≠ncrona, actualizado peri√≥dicamente con los registros de escritura (WAL) del servidor principal. El servidor se activa manual o semiautom√°ticamente en caso de falla. Ofrece un balance adecuado entre costo, tiempo de recuperaci√≥n y simplicidad de mantenimiento.
    
3. **Cold Spare (respaldo inactivo):**  
    - Mantener un servidor apagado o sin conexi√≥n, que se active solo ante una falla. Requiere configuraci√≥n manual y puede superar el tiempo m√°ximo de indisponibilidad establecido.
    

**Criterios de Elecci√≥n:**

- Disponibilidad del sistema durante operaci√≥n cr√≠tica.
- Tiempo de recuperaci√≥n ante falla del servidor principal.
- P√©rdida m√≠nima de datos.
- Costo de infraestructura y mantenimiento.
- Complejidad de implementaci√≥n y supervisi√≥n.

**Decisi√≥n:**  
Se adoptar√° una¬†arquitectura de redundancia pasiva. Esta configuraci√≥n incluir√° un servidor secundario PostgreSQL en modo r√©plica as√≠ncrona, que podr√° ser promovido a principal mediante un proceso manual o semiautom√°tico de¬†failover, complementado por monitoreo continuo y scripts de reconexi√≥n en el backend Express.

**Sustento:**  
La t√°ctica¬†Warm Spare¬†permite cumplir con el objetivo de mantener el tiempo de indisponibilidad bajo los 10 minutos establecidos en el escenario de disponibilidad, sin incurrir en los altos costos de una soluci√≥n de redundancia activa. Adem√°s, ofrece una recuperaci√≥n r√°pida y controlada, minimiza la p√©rdida de datos gracias a la replicaci√≥n peri√≥dica, y mantiene una complejidad t√©cnica moderada que facilita su implementaci√≥n y mantenimiento en entornos cr√≠ticos.

---
## T√°ctica 2: Usabilidad

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo**                                                                                                                                                                | **Fuente del Est√≠mulo** | **Artefacto**                         | **Entorno**        | **Respuesta**                                                                  | **Medida de Respuesta**                                          |
| ----------------- | ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------- | ------------------------------------- | ------------------ | ------------------------------------------------------------------------------ | ---------------------------------------------------------------- |
| ESC-03            | Usabilidad              | Administrador sin experiencia t√©cnica necesita cambiar estados de cuenta, configurar categor√≠as, buscar rese√±as, ordenar datos, editar perfil o actualizar foto desde m√≥vil | Usuario Administrador   | Pantalla de gesti√≥n del Administrador | Primera vez de uso | El administrador puede completar la acci√≥n sin necesidad de asistencia externa | La acci√≥n se realiza en¬†menos de 3 pasos y en¬†menos de 2 minutos |



### T√°ctica Elegida

En este caso, para mantener un sistema de navegaci√≥n simple que permita completar una acci√≥n en menos de tres pasos, se ha decidido emplear una combinaci√≥n de las t√°cticas de usabilidad: mantener el modelo del usuario y agrupar funcionalidades. A continuaci√≥n, se documentan los detalles de la decisi√≥n.
### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo:**  
Adopci√≥n de una interfaz basada en el modelo del usuario y agrupaci√≥n de funcionalidades para mejorar la usabilidad del m√≥dulo administrativo

**Contexto:**  
El m√≥dulo de Administraci√≥n General ser√° utilizado por administradores sin experiencia t√©cnica, quienes deben realizar tareas como cambiar estados de cuenta, configurar categor√≠as, gestionar rese√±as, editar perfiles y actualizar im√°genes desde dispositivos m√≥viles. Para garantizar la usabilidad y accesibilidad del sistema, se requiere definir una estrategia de dise√±o que permita a los usuarios completar estas acciones de forma intuitiva y eficiente, en menos de tres pasos y dos minutos, sin necesidad de asistencia externa.

**Alternativas:**

1. **Mantener el modelo de tareas:**  
	- Predecir la tarea que el usuario desea realizar para brindarle asistencia contextual (por ejemplo, ofrecer autocompletar o sugerencias seg√∫n el tipo de entrada), de modo que la interfaz anticipe y facilite la secuencia de acciones.

3. **Mantener el modelo del usuario:**  
	- Registrar y aprovechar h√°bitos de uso individuales para personalizar el comportamiento de la interfaz (por ejemplo, mostrar primero las acciones m√°s frecuentes o recordar filtros preferidos del administrador).

5. **Mantener el modelo del sistema:**  
	- Exponer el estado interno y el progreso de las operaciones (por ejemplo, barras de progreso, pasos de una transacci√≥n, mensajes de estado) para ofrecer feedback claro sobre lo que est√° ocurriendo en el sistema y reducir la incertidumbre del usuario.

7. **Combinaci√≥n propuesta (modelo del usuario y agrupaci√≥n de funcionalidades):**  
	- Dise√±ar la interfaz siguiendo el modelo mental del usuario (objetivos y h√°bitos) y agrupar funciones relacionadas en secciones claras (por ejemplo:¬†Usuarios,¬†Contenido,¬†Configuraci√≥n), complementando con ayudas contextuales (sugerencias/auto-completar) y feedback de sistema cuando corresponda.

**Criterios de Elecci√≥n:**

- Claridad y facilidad de aprendizaje.
- Eficiencia en la ejecuci√≥n de tareas (‚â§ 3 pasos, ‚â§ 2 minutos).
- Adaptabilidad al perfil del usuario no t√©cnico.

**Decisi√≥n:**  
Se adopta la¬†combinaci√≥n de mantener el modelo del usuario y agrupar funcionalidades, complementada con elementos del¬†modelo de tareas¬†(asistencias contextuales) y del¬†modelo del sistema¬†(feedback de estado) seg√∫n corresponda por flujo.

**Sustento:**  
Priorizar el¬†modelo del usuario¬†y la¬†agrupaci√≥n por objetivos¬†asegura que la interfaz se alinee con las expectativas y h√°bitos de administradores no t√©cnicos, facilitando la localizaci√≥n y ejecuci√≥n de acciones en pocas interacciones. Incorporar asistencia basada en¬†modelo de tareas¬†(sugerencias y autocompletar) reduce la fricci√≥n al completar formularios, mientras que mostrar¬†feedback del sistema¬†(por ejemplo, confirmaciones y barras de progreso) disminuye la incertidumbre sobre operaciones que tarden m√°s. Esta mezcla ofrece un equilibrio entre usabilidad inmediata, eficiencia y transparencia operacional, permitiendo cumplir la meta de ‚â§3 pasos y ‚â§2 minutos y facilitando la evoluci√≥n del UI conforme se recolecten datos de uso reales.

---
## T√°ctica 3: Rendimiento

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo**                                                                                          | **Fuente del Est√≠mulo**                                  | **Artefacto**                                               | **Entorno**                    | **Respuesta**                                                             | **Medida de Respuesta**                                                                      |
| ----------------- | ----------------------- | ----------------------------------------------------------------------------------------------------- | -------------------------------------------------------- | ----------------------------------------------------------- | ------------------------------ | ------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| ESC-04            | Rendimiento             | Generaci√≥n simult√°nea de cientos de solicitudes de reportes de cuentas de usuarios (falsas o v√°lidas) | Usuarios malintencionados o administradores concurrentes | Componente de generaci√≥n de reportes de cuentas de usuarios | Horario laboral con carga alta | El sistema activa limitaci√≥n de peticiones o colas para evitar saturaci√≥n | El servicio sigue disponible y las solicitudes excedentes se¬†rechazan o ponen en cola en <1s |

### T√°ctica Elegida

En este caso, para evitar que el sistema se sature ante una gran cantidad de solicitudes, se eligi√≥ utilizar una combinaci√≥n de las t√°cticas de rendimiento: limitar la respuesta de eventos y controlar el tama√±o de la cola. A continuaci√≥n, se documentan los detalles de la decisi√≥n.
### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo:**  
Control de demanda mediante limitaci√≥n de respuesta de eventos y tama√±o de cola en la generaci√≥n de reportes

**Contexto:**  
El componente de generaci√≥n de reportes de cuentas de usuario puede recibir cientos de solicitudes simult√°neas, v√°lidas o falsas, especialmente durante horarios laborales con alta carga. Este volumen puede saturar los recursos del backend (Express + PostgreSQL), generando cuellos de botella y degradaci√≥n del rendimiento. Se requiere una estrategia que mantenga la disponibilidad del servicio, evite la sobrecarga del sistema y controle el tiempo de respuesta bajo condiciones extremas de concurrencia.

**Alternativas:**

**1. Incrementar recursos de infraestructura:**

- Permite responder a m√°s solicitudes mediante escalamiento vertical u horizontal.
- Aumenta el costo operativo y no resuelve la ra√≠z del problema (demanda no controlada).
- Su efectividad depende de la capacidad econ√≥mica y del proveedor de infraestructura.

**2. Introducir concurrencia con hilos o workers adicionales:**

- Mejora la capacidad de procesamiento paralelo.
- Incrementa la complejidad del manejo de estado y el consumo de memoria.
- No impone l√≠mites sobre la cantidad de solicitudes entrantes.

**3. Mantener r√©plicas de c√≥mputo con balanceo de carga:**

- Distribuye la carga entre varios nodos para reducir la contenci√≥n.
- Requiere coordinaci√≥n entre instancias, sincronizaci√≥n de colas y costos de infraestructura adicionales.
- Introduce complejidad en la configuraci√≥n y el monitoreo.


**4. Combinaci√≥n propuesta: Limitar respuesta de eventos y tama√±o de cola (seleccionada):**

- Permite aceptar solo un n√∫mero m√°ximo de solicitudes concurrentes; las excedentes son rechazadas o puestas en cola con tiempo m√°ximo de espera (<1 s).
- Controla la presi√≥n sobre los recursos del servidor y evita la saturaci√≥n del backend.
- Requiere definir umbrales adecuados y pol√≠ticas claras de manejo de exceso de carga.

**Criterios de Elecci√≥n:**

- Disponibilidad del servicio bajo alta demanda.
- Control efectivo de la carga sin aumentar costos de infraestructura.
- Mantenimiento de tiempos de respuesta predecibles (<1 s en solicitudes rechazadas o en cola).

**Decisi√≥n:**  
Se adopta la¬†combinaci√≥n de limitaci√≥n de respuesta de eventos y tama√±o de cola¬†para el servicio de generaci√≥n de reportes, configurando un n√∫mero m√°ximo de solicitudes concurrentes y una cola temporal limitada. Las solicitudes que excedan el umbral ser√°n rechazadas con un c√≥digo HTTP 429 o colocadas en espera breve antes de su eliminaci√≥n.

**Sustento:**  
Esta estrategia ofrece un equilibrio entre control de recursos y mantenimiento del rendimiento. Limitar la cantidad de solicitudes procesadas simult√°neamente reduce la latencia y evita bloqueos en el acceso a la base de datos PostgreSQL. Al mismo tiempo, la cola acotada permite manejar picos de demanda sin saturar el servidor. En comparaci√≥n con el escalamiento o el uso de r√©plicas, esta t√°ctica proporciona una soluci√≥n m√°s ligera, econ√≥mica y f√°cilmente ajustable a patrones de uso reales.

---

## T√°ctica 4: Seguridad

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo**                                               | **Fuente del Est√≠mulo**                  | **Artefacto**                               | **Entorno**                 | **Respuesta**                                                                 | **Medida de Respuesta**                                                     |
| ----------------- | ----------------------- | ---------------------------------------------------------- | ---------------------------------------- | ------------------------------------------- | --------------------------- | ----------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| ESC-05            | Seguridad               | Intento de acceso no autorizado al panel de administraci√≥n | Usuario no autenticado o malintencionado | M√≥dulo de autenticaci√≥n y control de acceso | Entorno de operaci√≥n normal | El sistema bloquea el intento, registra el evento y notifica al administrador | El intento se bloquea inmediatamente y se genera un log de auditor√≠a en <1s |


### T√°ctica Elegida

En este caso, con el fin de prevenir accesos no autorizados al panel de administraci√≥n, se opt√≥ por aplicar la t√°ctica de¬†autenticaci√≥n de actores, perteneciente al conjunto de t√°cticas de seguridad orientadas a resistir ataques. A continuaci√≥n, se documentan los detalles de la decisi√≥n.
### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo:**  
Autenticaci√≥n de actores mediante tokens seguros para prevenir accesos no autorizados al panel administrativo

**Contexto:**  
El m√≥dulo de autenticaci√≥n y control de acceso debe proteger el panel de administraci√≥n ante intentos de ingreso no autorizado provenientes de usuarios no autenticados o malintencionados. Dado que el panel contiene informaci√≥n sensible, es necesario implementar un mecanismo que bloquee intentos ileg√≠timos, registre los eventos y notifique al administrador, asegurando que la respuesta ocurra en menos de un segundo.

**Alternativas:**

**1. Autenticar a los actores (seleccionada):**

- Verifica la identidad del usuario antes de permitir el acceso mediante credenciales seguras (usuario y contrase√±a cifrada con¬†`bcrypt`, emisi√≥n de token¬†`JWT`¬†con expiraci√≥n y firma secreta).
- Permite bloquear accesos sin token v√°lido o expirado, registrar los intentos fallidos y generar alertas autom√°ticas.
- Sencilla de implementar con librer√≠as est√°ndar (`jsonwebtoken`,¬†`bcryptjs`,¬†`passport`).

**2. Autorizar actores:**

- Se basa en definir niveles de permisos y roles tras la autenticaci√≥n, limitando las acciones que cada usuario puede realizar.
- Requiere un sistema de control de roles adicional, pero no impide por s√≠ solo accesos iniciales no autorizados.
- Adecuado como complemento, pero no como primera barrera.

**3. Limitar acceso mediante firewall o DMZ:**

- Restringe las conexiones al panel administrativo desde ubicaciones espec√≠ficas o redes internas.
- Mejora la seguridad perimetral, pero requiere configuraci√≥n de red y mantenimiento m√°s complejos, y no act√∫a directamente sobre la autenticaci√≥n del usuario.

**Criterios de Elecci√≥n:**

- Rapidez de implementaci√≥n en Express y PostgreSQL.
- Protecci√≥n inmediata ante intentos de acceso ileg√≠timo.
- Capacidad de registrar eventos y generar alertas.
- Bajo impacto en el rendimiento (<1 s en validaci√≥n).

**Decisi√≥n:**  
Se adopta la¬†autenticaci√≥n de actores¬†mediante credenciales cifradas y tokens¬†JWT¬†firmados, complementada con registro de eventos de seguridad en base de datos. El sistema bloquear√° autom√°ticamente intentos sin token v√°lido o con credenciales incorrectas, registrando el evento en el log de auditor√≠a y enviando una notificaci√≥n al administrador.

**Sustento:**  
La autenticaci√≥n es la t√°ctica m√°s directa, ligera y efectiva para detener accesos no autorizados al panel de administraci√≥n. Permite implementar pol√≠ticas de seguridad s√≥lidas con herramientas nativas del ecosistema Node.js, manteniendo bajo costo y m√≠nima complejidad operativa. A diferencia de t√°cticas m√°s estructurales (como DMZ o separaci√≥n f√≠sica de redes), esta puede integrarse r√°pidamente al flujo de Express.

---

## T√°ctica 5: Rendimiento

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo**                                                                                                         | **Fuente del Est√≠mulo** | **Artefacto**                          | **Entorno**               | **Respuesta**                                                               | **Medida de Respuesta**                                                           |
| ----------------- | ----------------------- | -------------------------------------------------------------------------------------------------------------------- | ----------------------- | -------------------------------------- | ------------------------- | --------------------------------------------------------------------------- | --------------------------------------------------------------------------------- |
| ESC-17            | Rendimiento             | Administrador consulta listado general de usuarios con todos sus datos al iniciar el sistema durante jornada laboral | Administrador           | M√≥dulo de carga y consulta de usuarios | Inicio de jornada laboral | El sistema carga y muestra la informaci√≥n inicial sin retrasos perceptibles | El tiempo total de carga no supera los 5 segundos y la interfaz permanece estable |

### T√°ctica Elegida

En este caso, con el fin de garantizar que la carga inicial del listado de usuarios se realice de manera r√°pida y estable durante momentos de alta concurrencia, se opt√≥ por aplicar la t√°ctica de¬†limitar la respuesta de eventos, perteneciente al conjunto de t√°cticas de rendimiento orientadas a controlar la demanda de recursos. A continuaci√≥n, se documentan los detalles de la decisi√≥n.
### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo:**  
Control de carga inicial del listado de usuarios mediante limitaci√≥n de respuesta de eventos

**Contexto:**  
El m√≥dulo de carga y consulta de usuarios debe mostrar el listado completo de usuarios con todos sus datos al inicio de la jornada laboral, un momento de alta concurrencia donde varios administradores pueden iniciar sesi√≥n y realizar consultas simult√°neamente. Para garantizar un rendimiento estable y mantener la interfaz responsiva, es necesario aplicar una estrategia que evite que la carga masiva de solicitudes degrade la experiencia del usuario.

**Alternativas:**

1. **No aplicar limitaci√≥n:**
	- Permitir que todas las solicitudes de carga se procesen de forma inmediata sin control. Esto maximiza la disponibilidad de datos pero puede saturar el servidor y generar retrasos perceptibles en la interfaz.

2. **Controlar frecuencia de llegada:**
	- Reducir la cantidad de solicitudes que se procesan por unidad de tiempo. Esto evita la saturaci√≥n, pero puede retrasar la visualizaci√≥n de informaci√≥n cr√≠tica y requiere ajustar la frecuencia de forma din√°mica.

3. **Limitar respuesta de eventos (t√°ctica seleccionada):**
	- Establecer un l√≠mite m√°ximo de eventos o solicitudes de carga que el sistema procesa simult√°neamente, priorizando el procesamiento de las m√°s relevantes. Las solicitudes excedentes se mantienen en cola o se descartan seg√∫n la pol√≠tica definida. Se puede implementar con tecnolog√≠as de Node.js como¬†queues con Bull o Node-Queue, o usando mecanismos internos de manejo de eventos asincr√≥nicos del backend Express.

**Criterios de Elecci√≥n:**

- Mantener la interfaz responsiva (‚â§5 segundos de carga).
- Evitar sobrecarga del servidor durante picos de concurrencia.
- Facilidad de implementaci√≥n en el backend existente.

**Decisi√≥n:**  
Se adopta la t√°ctica de¬†limitar la respuesta de eventos, controlando el n√∫mero m√°ximo de solicitudes de carga simult√°neas y gestionando el resto mediante cola de espera.

**Sustento:**  
Esta estrategia garantiza que la interfaz permanezca estable y que el listado de usuarios se cargue dentro del tiempo objetivo, incluso durante picos de concurrencia al inicio de la jornada laboral. Permite mantener la experiencia del usuario consistente y evitar que la saturaci√≥n del servidor afecte otras operaciones cr√≠ticas. La implementaci√≥n es sencilla en el backend con Node.js y puede integrarse f√°cilmente con mecanismos de manejo de colas y eventos existentes, dejando margen para futuras optimizaciones o escalabilidad.

---

[‚¨ÖÔ∏è Anterior](../5.1/5.1.md) | [üè† Home](../../README.md) | [Siguiente ‚û°Ô∏è](../5.3/5.3.md)