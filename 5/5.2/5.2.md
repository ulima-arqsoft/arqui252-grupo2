> [5. Tácticas](../5.md) › [5.2. Módulo 2 / Integrante 2](5.2.md)

# 5.2. Módulo 2 / Integrante 2

## Módulo de Administración General

## Táctica 1: Disponibilidad

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                                                                                                   | **Fuente del Estímulo** | **Artefacto**             | **Entorno**                  | **Respuesta**                                                                                               | **Medida de Respuesta**                                |
| ----------------- | ----------------------- | -------------------------------------------------------------------------------------------------------------- | ----------------------- | ------------------------- | ---------------------------- | ----------------------------------------------------------------------------------------------------------- | ------------------------------------------------------ |
| ESC-02            | Disponibilidad          | Fallo del servidor principal (administración, reseñas o perfiles) durante horario laboral de operación crítica | Servidor principal      | Servicio de base de datos | Operación en entorno crítico | El sistema debe reiniciar automáticamente el servicio o notificar al administrador para recuperación manual | El tiempo de indisponibilidad no supera los 10 minutos |


### Táctica Elegida

En este caso, para alcanzar los niveles de disponibilidad requeridos según el escenario (tiempo de recuperación menor a 10 minutos), se ha decidido aplicar la táctica de redundancia pasiva. A continuación, se documentan los detalles de la decisión.
### Documentación de la Decisión (ADR)

**Título:**  
Elección entre redundancia pasiva vs redundancia activa vs repuesto para el módulo de Administración General.

**Contexto:**  
El sistema cuenta con servicios críticos, como los módulos de administración, reseñas y perfiles, que deben mantener alta disponibilidad durante el horario laboral. Ante un posible fallo del servidor principal de base de datos, se requiere garantizar la continuidad operativa con un tiempo de recuperación no mayor a 10 minutos, evitando pérdidas significativas de datos y reduciendo la interrupción del servicio a los usuarios.

**Alternativas:**

1. **Hot Spare (redundancia activa):**  
    - Mantener un servidor secundario completamente sincronizado y disponible para failover automático. Proporciona conmutación inmediata, pero conlleva mayores costos de infraestructura y complejidad de configuración.
    
2. **Warm Spare (redundancia pasiva):**  
    - Mantener un servidor secundario configurado en modo réplica asíncrona, actualizado periódicamente con los registros de escritura (WAL) del servidor principal. El servidor se activa manual o semiautomáticamente en caso de falla. Ofrece un balance adecuado entre costo, tiempo de recuperación y simplicidad de mantenimiento.
    
3. **Cold Spare (respaldo inactivo):**  
    - Mantener un servidor apagado o sin conexión, que se active solo ante una falla. Requiere configuración manual y puede superar el tiempo máximo de indisponibilidad establecido.
    

**Criterios de Elección:**

- Disponibilidad del sistema durante operación crítica.
- Tiempo de recuperación ante falla del servidor principal.
- Pérdida mínima de datos.
- Costo de infraestructura y mantenimiento.
- Complejidad de implementación y supervisión.

**Decisión:**  
Se adoptará una arquitectura de redundancia pasiva. Esta configuración incluirá un servidor secundario PostgreSQL en modo réplica asíncrona, que podrá ser promovido a principal mediante un proceso manual o semiautomático de failover, complementado por monitoreo continuo y scripts de reconexión en el backend Express.

**Sustento:**  
La táctica Warm Spare permite cumplir con el objetivo de mantener el tiempo de indisponibilidad bajo los 10 minutos establecidos en el escenario de disponibilidad, sin incurrir en los altos costos de una solución de redundancia activa. Además, ofrece una recuperación rápida y controlada, minimiza la pérdida de datos gracias a la replicación periódica, y mantiene una complejidad técnica moderada que facilita su implementación y mantenimiento en entornos críticos.

---
## Táctica 2: Usabilidad

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                                                                                                                                                                | **Fuente del Estímulo** | **Artefacto**                         | **Entorno**        | **Respuesta**                                                                  | **Medida de Respuesta**                                          |
| ----------------- | ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------- | ------------------------------------- | ------------------ | ------------------------------------------------------------------------------ | ---------------------------------------------------------------- |
| ESC-03            | Usabilidad              | Administrador sin experiencia técnica necesita cambiar estados de cuenta, configurar categorías, buscar reseñas, ordenar datos, editar perfil o actualizar foto desde móvil | Usuario Administrador   | Pantalla de gestión del Administrador | Primera vez de uso | El administrador puede completar la acción sin necesidad de asistencia externa | La acción se realiza en menos de 3 pasos y en menos de 2 minutos |



### Táctica Elegida

En este caso, para mantener un sistema de navegación simple que permita completar una acción en menos de tres pasos, se ha decidido emplear una combinación de las tácticas de usabilidad: mantener el modelo del usuario y agrupar funcionalidades. A continuación, se documentan los detalles de la decisión.
### Documentación de la Decisión (ADR)

**Título:**  
Adopción de una interfaz basada en el modelo del usuario y agrupación de funcionalidades para mejorar la usabilidad del módulo administrativo

**Contexto:**  
El módulo de Administración General será utilizado por administradores sin experiencia técnica, quienes deben realizar tareas como cambiar estados de cuenta, configurar categorías, gestionar reseñas, editar perfiles y actualizar imágenes desde dispositivos móviles. Para garantizar la usabilidad y accesibilidad del sistema, se requiere definir una estrategia de diseño que permita a los usuarios completar estas acciones de forma intuitiva y eficiente, en menos de tres pasos y dos minutos, sin necesidad de asistencia externa.

**Alternativas:**

1. **Mantener el modelo de tareas:**  
	- Predecir la tarea que el usuario desea realizar para brindarle asistencia contextual (por ejemplo, ofrecer autocompletar o sugerencias según el tipo de entrada), de modo que la interfaz anticipe y facilite la secuencia de acciones.

3. **Mantener el modelo del usuario:**  
	- Registrar y aprovechar hábitos de uso individuales para personalizar el comportamiento de la interfaz (por ejemplo, mostrar primero las acciones más frecuentes o recordar filtros preferidos del administrador).

5. **Mantener el modelo del sistema:**  
	- Exponer el estado interno y el progreso de las operaciones (por ejemplo, barras de progreso, pasos de una transacción, mensajes de estado) para ofrecer feedback claro sobre lo que está ocurriendo en el sistema y reducir la incertidumbre del usuario.

7. **Combinación propuesta (modelo del usuario y agrupación de funcionalidades):**  
	- Diseñar la interfaz siguiendo el modelo mental del usuario (objetivos y hábitos) y agrupar funciones relacionadas en secciones claras (por ejemplo: Usuarios, Contenido, Configuración), complementando con ayudas contextuales (sugerencias/auto-completar) y feedback de sistema cuando corresponda.

**Criterios de Elección:**

- Claridad y facilidad de aprendizaje.
- Eficiencia en la ejecución de tareas (≤ 3 pasos, ≤ 2 minutos).
- Adaptabilidad al perfil del usuario no técnico.

**Decisión:**  
Se adopta la combinación de mantener el modelo del usuario y agrupar funcionalidades, complementada con elementos del modelo de tareas (asistencias contextuales) y del modelo del sistema (feedback de estado) según corresponda por flujo.

**Sustento:**  
Priorizar el modelo del usuario y la agrupación por objetivos asegura que la interfaz se alinee con las expectativas y hábitos de administradores no técnicos, facilitando la localización y ejecución de acciones en pocas interacciones. Incorporar asistencia basada en modelo de tareas (sugerencias y autocompletar) reduce la fricción al completar formularios, mientras que mostrar feedback del sistema (por ejemplo, confirmaciones y barras de progreso) disminuye la incertidumbre sobre operaciones que tarden más. Esta mezcla ofrece un equilibrio entre usabilidad inmediata, eficiencia y transparencia operacional, permitiendo cumplir la meta de ≤3 pasos y ≤2 minutos y facilitando la evolución del UI conforme se recolecten datos de uso reales.

---
## Táctica 3: Rendimiento

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                                                                                          | **Fuente del Estímulo**                                  | **Artefacto**                                               | **Entorno**                    | **Respuesta**                                                             | **Medida de Respuesta**                                                                      |
| ----------------- | ----------------------- | ----------------------------------------------------------------------------------------------------- | -------------------------------------------------------- | ----------------------------------------------------------- | ------------------------------ | ------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| ESC-04            | Rendimiento             | Generación simultánea de cientos de solicitudes de reportes de cuentas de usuarios (falsas o válidas) | Usuarios malintencionados o administradores concurrentes | Componente de generación de reportes de cuentas de usuarios | Horario laboral con carga alta | El sistema activa limitación de peticiones o colas para evitar saturación | El servicio sigue disponible y las solicitudes excedentes se rechazan o ponen en cola en <1s |

### Táctica Elegida

En este caso, para evitar que el sistema se sature ante una gran cantidad de solicitudes, se eligió utilizar una combinación de las tácticas de rendimiento: limitar la respuesta de eventos y controlar el tamaño de la cola. A continuación, se documentan los detalles de la decisión.
### Documentación de la Decisión (ADR)

**Título:**  
Control de demanda mediante limitación de respuesta de eventos y tamaño de cola en la generación de reportes

**Contexto:**  
El componente de generación de reportes de cuentas de usuario puede recibir cientos de solicitudes simultáneas, válidas o falsas, especialmente durante horarios laborales con alta carga. Este volumen puede saturar los recursos del backend (Express + PostgreSQL), generando cuellos de botella y degradación del rendimiento. Se requiere una estrategia que mantenga la disponibilidad del servicio, evite la sobrecarga del sistema y controle el tiempo de respuesta bajo condiciones extremas de concurrencia.

**Alternativas:**

**1. Incrementar recursos de infraestructura:**

- Permite responder a más solicitudes mediante escalamiento vertical u horizontal.
- Aumenta el costo operativo y no resuelve la raíz del problema (demanda no controlada).
- Su efectividad depende de la capacidad económica y del proveedor de infraestructura.

**2. Introducir concurrencia con hilos o workers adicionales:**

- Mejora la capacidad de procesamiento paralelo.
- Incrementa la complejidad del manejo de estado y el consumo de memoria.
- No impone límites sobre la cantidad de solicitudes entrantes.

**3. Mantener réplicas de cómputo con balanceo de carga:**

- Distribuye la carga entre varios nodos para reducir la contención.
- Requiere coordinación entre instancias, sincronización de colas y costos de infraestructura adicionales.
- Introduce complejidad en la configuración y el monitoreo.


**4. Combinación propuesta: Limitar respuesta de eventos y tamaño de cola (seleccionada):**

- Permite aceptar solo un número máximo de solicitudes concurrentes; las excedentes son rechazadas o puestas en cola con tiempo máximo de espera (<1 s).
- Controla la presión sobre los recursos del servidor y evita la saturación del backend.
- Requiere definir umbrales adecuados y políticas claras de manejo de exceso de carga.

**Criterios de Elección:**

- Disponibilidad del servicio bajo alta demanda.
- Control efectivo de la carga sin aumentar costos de infraestructura.
- Mantenimiento de tiempos de respuesta predecibles (<1 s en solicitudes rechazadas o en cola).

**Decisión:**  
Se adopta la combinación de limitación de respuesta de eventos y tamaño de cola para el servicio de generación de reportes, configurando un número máximo de solicitudes concurrentes y una cola temporal limitada. Las solicitudes que excedan el umbral serán rechazadas con un código HTTP 429 o colocadas en espera breve antes de su eliminación.

**Sustento:**  
Esta estrategia ofrece un equilibrio entre control de recursos y mantenimiento del rendimiento. Limitar la cantidad de solicitudes procesadas simultáneamente reduce la latencia y evita bloqueos en el acceso a la base de datos PostgreSQL. Al mismo tiempo, la cola acotada permite manejar picos de demanda sin saturar el servidor. En comparación con el escalamiento o el uso de réplicas, esta táctica proporciona una solución más ligera, económica y fácilmente ajustable a patrones de uso reales.

---

## Táctica 4: Seguridad

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                                               | **Fuente del Estímulo**                  | **Artefacto**                               | **Entorno**                 | **Respuesta**                                                                 | **Medida de Respuesta**                                                     |
| ----------------- | ----------------------- | ---------------------------------------------------------- | ---------------------------------------- | ------------------------------------------- | --------------------------- | ----------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| ESC-05            | Seguridad               | Intento de acceso no autorizado al panel de administración | Usuario no autenticado o malintencionado | Módulo de autenticación y control de acceso | Entorno de operación normal | El sistema bloquea el intento, registra el evento y notifica al administrador | El intento se bloquea inmediatamente y se genera un log de auditoría en <1s |


### Táctica Elegida

En este caso, con el fin de prevenir accesos no autorizados al panel de administración, se optó por aplicar la táctica de autenticación de actores, perteneciente al conjunto de tácticas de seguridad orientadas a resistir ataques. A continuación, se documentan los detalles de la decisión.
### Documentación de la Decisión (ADR)

**Título:**  
Autenticación de actores mediante tokens seguros para prevenir accesos no autorizados al panel administrativo

**Contexto:**  
El módulo de autenticación y control de acceso debe proteger el panel de administración ante intentos de ingreso no autorizado provenientes de usuarios no autenticados o malintencionados. Dado que el panel contiene información sensible, es necesario implementar un mecanismo que bloquee intentos ilegítimos, registre los eventos y notifique al administrador, asegurando que la respuesta ocurra en menos de un segundo.

**Alternativas:**

**1. Autenticar a los actores (seleccionada):**

- Verifica la identidad del usuario antes de permitir el acceso mediante credenciales seguras (usuario y contraseña cifrada con `bcrypt`, emisión de token `JWT` con expiración y firma secreta).
- Permite bloquear accesos sin token válido o expirado, registrar los intentos fallidos y generar alertas automáticas.
- Sencilla de implementar con librerías estándar (`jsonwebtoken`, `bcryptjs`, `passport`).

**2. Autorizar actores:**

- Se basa en definir niveles de permisos y roles tras la autenticación, limitando las acciones que cada usuario puede realizar.
- Requiere un sistema de control de roles adicional, pero no impide por sí solo accesos iniciales no autorizados.
- Adecuado como complemento, pero no como primera barrera.

**3. Limitar acceso mediante firewall o DMZ:**

- Restringe las conexiones al panel administrativo desde ubicaciones específicas o redes internas.
- Mejora la seguridad perimetral, pero requiere configuración de red y mantenimiento más complejos, y no actúa directamente sobre la autenticación del usuario.

**Criterios de Elección:**

- Rapidez de implementación en Express y PostgreSQL.
- Protección inmediata ante intentos de acceso ilegítimo.
- Capacidad de registrar eventos y generar alertas.
- Bajo impacto en el rendimiento (<1 s en validación).

**Decisión:**  
Se adopta la autenticación de actores mediante credenciales cifradas y tokens JWT firmados, complementada con registro de eventos de seguridad en base de datos. El sistema bloqueará automáticamente intentos sin token válido o con credenciales incorrectas, registrando el evento en el log de auditoría y enviando una notificación al administrador.

**Sustento:**  
La autenticación es la táctica más directa, ligera y efectiva para detener accesos no autorizados al panel de administración. Permite implementar políticas de seguridad sólidas con herramientas nativas del ecosistema Node.js, manteniendo bajo costo y mínima complejidad operativa. A diferencia de tácticas más estructurales (como DMZ o separación física de redes), esta puede integrarse rápidamente al flujo de Express.

---

## Táctica 5: Rendimiento

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                                                                                                         | **Fuente del Estímulo** | **Artefacto**                          | **Entorno**               | **Respuesta**                                                               | **Medida de Respuesta**                                                           |
| ----------------- | ----------------------- | -------------------------------------------------------------------------------------------------------------------- | ----------------------- | -------------------------------------- | ------------------------- | --------------------------------------------------------------------------- | --------------------------------------------------------------------------------- |
| ESC-17            | Rendimiento             | Administrador consulta listado general de usuarios con todos sus datos al iniciar el sistema durante jornada laboral | Administrador           | Módulo de carga y consulta de usuarios | Inicio de jornada laboral | El sistema carga y muestra la información inicial sin retrasos perceptibles | El tiempo total de carga no supera los 5 segundos y la interfaz permanece estable |

### Táctica Elegida

En este caso, con el fin de garantizar que la carga inicial del listado de usuarios se realice de manera rápida y estable durante momentos de alta concurrencia, se optó por aplicar la táctica de limitar la respuesta de eventos, perteneciente al conjunto de tácticas de rendimiento orientadas a controlar la demanda de recursos. A continuación, se documentan los detalles de la decisión.
### Documentación de la Decisión (ADR)

**Título:**  
Control de carga inicial del listado de usuarios mediante limitación de respuesta de eventos

**Contexto:**  
El módulo de carga y consulta de usuarios debe mostrar el listado completo de usuarios con todos sus datos al inicio de la jornada laboral, un momento de alta concurrencia donde varios administradores pueden iniciar sesión y realizar consultas simultáneamente. Para garantizar un rendimiento estable y mantener la interfaz responsiva, es necesario aplicar una estrategia que evite que la carga masiva de solicitudes degrade la experiencia del usuario.

**Alternativas:**

1. **No aplicar limitación:**
	- Permitir que todas las solicitudes de carga se procesen de forma inmediata sin control. Esto maximiza la disponibilidad de datos pero puede saturar el servidor y generar retrasos perceptibles en la interfaz.

2. **Controlar frecuencia de llegada:**
	- Reducir la cantidad de solicitudes que se procesan por unidad de tiempo. Esto evita la saturación, pero puede retrasar la visualización de información crítica y requiere ajustar la frecuencia de forma dinámica.

3. **Limitar respuesta de eventos (táctica seleccionada):**
	- Establecer un límite máximo de eventos o solicitudes de carga que el sistema procesa simultáneamente, priorizando el procesamiento de las más relevantes. Las solicitudes excedentes se mantienen en cola o se descartan según la política definida. Se puede implementar con tecnologías de Node.js como queues con Bull o Node-Queue, o usando mecanismos internos de manejo de eventos asincrónicos del backend Express.

**Criterios de Elección:**

- Mantener la interfaz responsiva (≤5 segundos de carga).
- Evitar sobrecarga del servidor durante picos de concurrencia.
- Facilidad de implementación en el backend existente.

**Decisión:**  
Se adopta la táctica de limitar la respuesta de eventos, controlando el número máximo de solicitudes de carga simultáneas y gestionando el resto mediante cola de espera.

**Sustento:**  
Esta estrategia garantiza que la interfaz permanezca estable y que el listado de usuarios se cargue dentro del tiempo objetivo, incluso durante picos de concurrencia al inicio de la jornada laboral. Permite mantener la experiencia del usuario consistente y evitar que la saturación del servidor afecte otras operaciones críticas. La implementación es sencilla en el backend con Node.js y puede integrarse fácilmente con mecanismos de manejo de colas y eventos existentes, dejando margen para futuras optimizaciones o escalabilidad.

---

[⬅️ Anterior](../5.1/5.1.md) | [🏠 Home](../../README.md) | [Siguiente ➡️](../5.3/5.3.md)