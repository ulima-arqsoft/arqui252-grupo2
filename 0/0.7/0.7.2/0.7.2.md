> [0. Acerca del Grupo](../../0.md) ‚Ä∫ [0.7. Trabajo Individual (Patrones Cloud)](../0.7.md) ‚Ä∫ [0.7.2. Integrante 2](0.7.2.md)

# 0.7.2. Integrante 2

Tema: Claim-Check
## Claim Check
### Problema

Com√∫nmente, los sistemas de mensajer√≠a est√°n optimizados para manejar una gran cantidad de mensajes peque√±os y, por lo general, cuentan con una restricci√≥n en el tama√±o m√°ximo de los mensajes que pueden procesar. Esto se puede observar, por ejemplo, en que la ventana de comunicaci√≥n entre un cliente y un servidor tiene un tama√±o definido. Teniendo esto en cuenta, si se intenta enviar mensajes muy grandes, estos pueden exceder dichos l√≠mites o ser lo suficientemente grandes como para ocupar por completo el tama√±o de la ventana de comunicaci√≥n. Esto puede afectar negativamente el rendimiento del sistema, especialmente cuando el sistema de mensajer√≠a debe almacenar o transmitir mensajes de gran tama√±o.
### Soluci√≥n

La soluci√≥n que propone este patr√≥n puede resumirse de la siguiente manera: en lugar de enviar todo el payload dentro del mensaje, el patr√≥n Claim Check almacena la parte pesada del mensaje en un almacenamiento externo (por ejemplo, una base de datos, un servicio de blob storage u otro repositorio similar). A partir de ah√≠, el mensaje que se env√≠a solo contiene una referencia o token, conocido como claim check, que indica la ubicaci√≥n de los datos almacenados. De esta manera, el sistema de mensajer√≠a √∫nicamente transmite mensajes livianos, mientras que el componente encargado de procesarlos puede recuperar los datos completos cuando los necesite.
### Casos de aplicaci√≥n

1. Sistema hospitalario
	- En un sistema de emergencias hospitalarias, durante la etapa de triaje de los pacientes, se deben registrar todos sus datos personales, junto con sus estudios m√©dicos, que pueden incluir diversas im√°genes radiogr√°ficas y otros archivos de gran tama√±o. Toda esta informaci√≥n puede generar un payload muy pesado, por lo que no es recomendable incluirla directamente en los mensajes. En este caso, el servicio de admisi√≥n debe almacenar estos archivos en un repositorio externo (como un sistema de almacenamiento de objetos o una base de datos), y en el mensaje solo se env√≠a una referencia a dicha informaci√≥n mediante un claim check.
2. Ecommerce
	- Al realizar una compra en una tienda en l√≠nea (por ejemplo, Saga Falabella, Ripley u otras), cada orden puede incluir una lista extensa de productos, comprobantes adjuntos y otros datos adicionales. El servicio encargado de procesar las √≥rdenes no necesita todos estos datos de manera inmediata, y transmitirlos completamente podr√≠a sobrecargar la comunicaci√≥n. Por ello, el servicio de checkout puede almacenar el detalle completo de la orden en una base de datos y enviar en el mensaje solo una referencia (claim check). De esta forma, los servicios de log√≠stica o facturaci√≥n pueden recuperar los datos completos de la orden √∫nicamente cuando los necesiten.
3. Redes Sociales
	- En el caso de las redes sociales (como Facebook o Instagram), cuando un usuario sube una foto, historia o reel, el archivo multimedia puede tener un tama√±o considerable, mientras que el resto del contenido del mensaje (como el texto, hashtags o ubicaci√≥n) es mucho m√°s liviano. Enviar todo el payload en el mensaje no ser√≠a eficiente ni escalable, por lo que el patr√≥n Claim Check resulta ideal. En este escenario, el usuario carga el archivo multimedia directamente a un servicio de almacenamiento (por ejemplo, un bucket en Amazon S3 o el sistema interno de la red social), y el sistema genera un identificador √∫nico, claim check, que act√∫a como referencia al archivo. Luego, el cliente env√≠a al backend de publicaciones un mensaje que contiene solo los datos livianos y el claim check, permitiendo que el backend recupere el contenido multimedia completo √∫nicamente cuando lo necesite.

### Aplicaci√≥n en su proyecto grupal

Se propone implementar el patr√≥n Claim Check en el m√≥dulo de administraci√≥n general, espec√≠ficamente en la funcionalidad de gesti√≥n de cuentas de usuario, donde el administrador deber√≠a poder visualizar un listado extenso de todos los usuarios registrados en la plataforma junto con su informaci√≥n asociada. En el escenario actual, el servicio devolver√≠a todos los datos vinculados a cada cuenta, incluyendo archivos como fotos de perfil o historiales de actividad, lo que podr√≠a afectar el rendimiento y aumentar los tiempos de respuesta ante solicitudes concurrentes.

Al aplicar el patr√≥n Claim Check, el sistema almacenar√≠a los datos pesados en un servicio externo de almacenamiento y enviar√≠a √∫nicamente referencias a trav√©s de los mensajes. De este modo, la carga principal de la respuesta contendr√≠a solo la informaci√≥n esencial, mientras que los datos completos se recuperar√≠an √∫nicamente cuando el administrador los solicitara (por ejemplo, al consultar los detalles de un usuario espec√≠fico). Con esta implementaci√≥n se esperar√≠a reducir el consumo de ancho de banda y memoria del backend, manteniendo los tiempos de respuesta por debajo de los tres segundos.

---

[‚¨ÖÔ∏è Anterior](../0.7.1/0.7.1.md) | [üè† Home](../../../README.md) | [Siguiente ‚û°Ô∏è](../0.7.3/0.7.3.md)