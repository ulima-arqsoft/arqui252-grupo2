# 2.1.4. Módulo 1

# Módulo de Autenticación y Seguridad

## RF-01 [Registro de usuarios]
**Descripción:** El sistema debe permitir el registro de distintos tipos de usuarios (estudiantes, padres, docentes, instituciones) con datos básicos y credenciales de acceso  
**Entradas:** Nombre, correo electrónico, contraseña, tipo de usuario, aceptación de Términos y Condiciones  
**Salidas:** Cuenta creada en estado pendiente de verificación, mensaje de confirmación, correo de validación enviado  
**Restricciones:** Cada correo debe ser único; el usuario debe aceptar los Términos para completar el registro  

---

## RF-02 [Inicio de sesión con correo y redes sociales]
**Descripción:** El sistema debe permitir a los usuarios iniciar sesión con credenciales locales (correo y contraseña) o mediante proveedores externos 
**Entradas:** Correo y contraseña o token de autenticación del proveedor externo  
**Salidas:** Sesión iniciada, perfil de usuario y rol asociado  
**Restricciones:** La cuenta debe estar activa y verificada; limitar intentos de acceso fallidos; los tokens sociales deben validarse con el proveedor  

---

## RF-03 [Roles diferenciados]
**Descripción:** El sistema debe asignar roles específicos (estudiante, docente, institución, administrador) y restringir el acceso a funcionalidades según el rol  
**Entradas:** ID del usuario, rol asignado  
**Salidas:** Rol registrado en el sistema, permisos ajustados  
**Restricciones:** Solo los administradores pueden cambiar o asignar roles; ciertas funciones sensibles solo están disponibles para admins o cuentas verificadas  

---

## RF-04 [Recuperación de contraseña]
**Descripción:** El sistema debe permitir a los usuarios restablecer su contraseña a través de un correo de recuperación con enlace o código temporal  
**Entradas:** Correo del usuario, nueva contraseña  
**Salidas:** Contraseña actualizada, notificación de confirmación  
**Restricciones:** El enlace o código expira en un tiempo limitado; todas las sesiones activas deben invalidarse al cambiar la contraseña  

---

## RF-05 [Autenticación de dos factores opcional]
**Descripción:** El sistema debe permitir a los usuarios activar 2FA usando aplicaciones de autenticación con códigos TOTP  
**Entradas:** Código de activación generado por la aplicación de autenticación  
**Salidas:** 2FA habilitado, códigos de respaldo entregados al usuario  
**Restricciones:** La activación o desactivación requiere reautenticación; los usuarios deben guardar los códigos de respaldo para evitar bloqueos  

---

## RF-06 [Bloqueo temporal por intentos fallidos]
**Descripción:** El sistema debe bloquear temporalmente una cuenta tras múltiples intentos fallidos de inicio de sesión  
**Entradas:** Intentos consecutivos de acceso con credenciales incorrectas  
**Salidas:** Mensaje de bloqueo temporal, notificación al usuario  
**Restricciones:** Tiempo de bloqueo escalonado según intentos; registrar intentos fallidos  

---

## RF-07 [Notificaciones de seguridad]
**Descripción:** El sistema debe notificar a los usuarios sobre eventos críticos de seguridad como nuevo dispositivo, cambio de contraseña o activación de 2FA  
**Entradas:** Evento de seguridad  
**Salidas:** Correo o alerta enviada al usuario  
**Restricciones:** Notificaciones críticas no se pueden desactivar  

---

## RF-08 [Política de contraseñas]
**Descripción:** El sistema debe aplicar políticas de complejidad a las contraseñas  
**Entradas:** Contraseña propuesta por el usuario  
**Salidas:** Validación aceptada o mensaje de error  
**Restricciones:** Contraseñas débiles o reutilizadas deben ser rechazadas  

---

## RF-9 [Eliminación o desactivación de cuenta]
**Descripción:** El sistema debe permitir a los usuarios solicitar la eliminación o desactivación de su cuenta  
**Entradas:** Confirmación del usuario, autenticación  
**Salidas:** Cuenta desactivada o eliminada, mensaje de confirmación  
**Restricciones:** Requiere reautenticación; puede existir un periodo de gracia antes de la eliminación definitiva  
